# ▀█▀ █▀▀ █▀▄▀█ █▀█ █   ▄▀█ ▀█▀ █▀▀ █▀ #
#  █  ██▄ █ ▀ █ █▀▀ █▄▄ █▀█  █  ██▄ ▄█ #

    # Template light for controlling the Hue Play Sync Box + Gradient Lightstrip
  - platform: template
    lights:
      # Template light for Hue Sync Box + Hue Play Lightstrip
      ambilight:
        friendly_name: "Ambilight"
        unique_id: ambi_light
        effect_list_template: "{{ state_attr('input_select.ambilight_sync_modes', 'options') }}"
        icon_template: >-
          {% if is_state('media_player.play_sync_box', 'playing') %}
            hue:lightstrip-tv
          {% else %}
            hue:lightstrip-tv-off
          {% endif %}
        level_template: >-
          {% if states('media_player.play_sync_box') != 'off' %}
            {{ (state_attr('media_player.play_sync_box', 'brightness') * 255) | int(default=0) }}
          {% else %}
            0
          {% endif %}
        value_template: >-
          {% if is_state('media_player.play_sync_box', 'playing') %}
            on
          {% else %}
            off
          {% endif %}
        effect_template: >-
          {% if is_state_attr('media_player.play_sync_box', 'mode', 'video') %}
            Video
          {% elif is_state_attr('media_player.play_sync_box', 'mode', 'music') %}
            Music
          {% elif is_state_attr('media_player.play_sync_box', 'mode', 'game') %}
            Game
          {% endif %}
        turn_on:
          service: media_player.media_play
          entity_id: media_player.play_sync_box
        turn_off:
          service: media_player.media_pause
          entity_id: media_player.play_sync_box
        set_level:
          service: media_player.volume_set
          target:
            entity_id: media_player.play_sync_box
          data:
            volume_level: "{{ (brightness / 255 * 100)|int / 100 }}"
        set_effect:
          service: script.ambilight_set_sync_mode
          data:
            effect: "{{ effect }}"

      # Template light for Christmas tree lighting (disabled)
#      woonkamer_kerstboom:
#        friendly_name: "Woonkamer Kerstboom"
#        unique_id: woonkamer_kerstboom
#        icon_template: >-
#          {% if is_state('switch.woonkamer_plug', 'on') %}
#            mdi:string-lights
#          {% else %}
#            mdi:string-lights-off
#          {% endif %}
#        value_template: "{{ states('switch.woonkamer_plug') }}"
#        turn_on:
#          service: switch.turn_on
#          entity_id: switch.woonkamer_plug
#        turn_off:
#          service: switch.turn_off
#          entity_id: switch.woonkamer_plug
          

      # Template light for closset lighting
      woonkamer_kastverlichting:
        friendly_name: "Woonkamer Kastverlichting"
        unique_id: woonkamer_kastverlichting
        icon_template: >-
          {% if is_state('switch.woonkamer_eettafel_plug', 'on') %}
            mdi:string-lights
          {% else %}
            mdi:string-lights-off
          {% endif %}
        value_template: "{{ states('switch.woonkamer_eettafel_plug') }}"
        turn_on:
          service: switch.turn_on
          entity_id: switch.woonkamer_eettafel_plug
        turn_off:
          service: switch.turn_off
          entity_id: switch.woonkamer_eettafel_plug

# █▀▀ █▀█ █▀█ █ █ █▀█ █▀ #
# █▄█ █▀▄ █▄█ █▄█ █▀▀ ▄█ #

    # Woonkamer group
  - platform: group
    name: Woonkamer Groep
    unique_id: ha_woonkamer_groep
    entities:
      - light.woonkamer_lamp
      - light.woonkamer_eettafel_lamp
      - light.play_gradient_lightstrip
      - light.woonkamer_play_lichtbalk
      - light.globe_lamp
      - light.edison_lamp
      - light.tarnaby_lamp

  - platform: group
    name: Woonkamer Play Lichtbalk
    unique_id: ha_woonkamer_play_lichtbalk
    entities:
      - light.woonkamer_play_lichtbalk_l
      - light.woonkamer_play_lichtbalk_r

    # Filament Lamps
  - platform: group
    name: Filament Lamps
    unique_id: ha_filament_lamps
    entities:
      - light.globe_lamp
      - light.edison_lamp
      - light.tarnaby_lamp

    # Buiten belichting
  - platform: group
    name: Buiten Groep
    unique_id: ha_buiten_groep
    entities:
      - light.voortuin_buitenlamp
      - light.achtertuin_buitenlamp

    # Slaapkamer nachtkastjes (not for use in HomeKit)
  - platform: group
    name: Slaapkamer Nachtkastjes
    unique_id: ha_slaapkamer_nachtkastjes
    entities:
      - light.slaapkamer_nachtkastje_l
      - light.slaapkamer_nachtkastje_r

    # Keuken Afzuigkap (not for use in HomeKit)
  - platform: group
    name: Keuken Afzuigkap
    unique_id: ha_keuken_afzuigkap
    entities:
      - light.keuken_afzuigkap_l
      - light.keuken_afzuigkap_r