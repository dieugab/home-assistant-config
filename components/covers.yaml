# █▀▀ █▀█ █▀█ █ █ █▀█ █▀ #
# █▄█ █▀▄ █▄█ █▄█ █▀▀ ▄█ #

    # Cover group for kitchen shades
  - platform: group
    name: Keuken Rolgordijnen
    unique_id: ha_keuken_rolgordijnen
    entities:
      - cover.keuken_l
      - cover.keuken_r

    # Cover group for bedroom shades
  - platform: group
    name: Slaapkamer Rolgordijnen
    unique_id: ha_slaapkamer_rolgordijnen
    entities:
      - cover.slaapkamer_l
      - cover.slaapkamer_r

# ▀█▀ █▀▀ █▀▄▀█ █▀█ █   ▄▀█ ▀█▀ █▀▀ █▀ #
#  █  ██▄ █ ▀ █ █▀▀ █▄▄ █▀█  █  ██▄ ▄█ #

  - platform: template
    covers:
      # Template cover for SwitchBot @ living room curtains (experimental)
      woonkamer_gordijn:
        unique_id: template_woonkamer_gordijn
        device_class: curtain
        friendly_name: "Woonkamer Gordijn"
        availability_template: "{{ states('cover.woonkamer_switchbot') != 'unavailable' }}"
        icon_template: >-
          {% if is_state('cover.woonkamer_gordijn', 'open') %}
            mdi:curtains
          {% elif is_state('cover.woonkamer_gordijn', 'closed') %}
            mdi:curtains-closed
          {% endif %}
        value_template: >-
          {% if is_state('cover.woonkamer_switchbot', 'opening') %}
            opening
          {% elif is_state('cover.woonkamer_switchbot', 'closing') %}
            closing
          {% elif state_attr('cover.woonkamer_switchbot', 'current_position') >= 95 %}
            open
          {% elif state_attr('cover.woonkamer_switchbot', 'current_position') <= 5 %}
            closed
          {% endif %}
        open_cover:
          service: >-
            {% if is_state('cover.woonkamer_gordijn', 'open') %}
              script.dummy
            {% else %}
              cover.open_cover
            {% endif %}
          entity_id: cover.woonkamer_switchbot
        close_cover:
          service: >-
            {% if is_state('cover.woonkamer_gordijn', 'closed') %}
              script.dummy
            {% else %}
              cover.close_cover
            {% endif %}
          entity_id: cover.woonkamer_switchbot

      # Template cover for SwitchBot @ backdoor curtains (experimental)
      achterdeur_gordijn:
        unique_id: template_achterdeur_gordijn
        device_class: curtain
        friendly_name: "Achterdeur Gordijn"
        availability_template: "{{ states('cover.achterdeur_switchbot') != 'unavailable' }}"
        icon_template: >-
          {% if is_state('cover.achterdeur_gordijn', 'open') %}
            mdi:curtains
          {% elif is_state('cover.achterdeur_gordijn', 'closed') %}
            mdi:curtains-closed
          {% endif %}
        value_template: >-
          {% if is_state('cover.achterdeur_switchbot', 'opening') %}
            opening
          {% elif is_state('cover.achterdeur_switchbot', 'closing') %}
            closing
          {% elif state_attr('cover.achterdeur_switchbot', 'current_position') >= 95 %}
            open
          {% elif state_attr('cover.achterdeur_switchbot', 'current_position') <= 5 %}
            closed
          {% endif %}
        open_cover:
          service: >-
            {% if is_state('cover.achterdeur_gordijn', 'open') %}
              script.dummy
            {% else %}
              cover.open_cover
            {% endif %}
          entity_id: cover.achterdeur_switchbot
        close_cover:
          service: >-
            {% if is_state('cover.achterdeur_gordijn', 'closed') %}
              script.dummy
            {% else %}
              cover.close_cover
            {% endif %}
          entity_id: cover.achterdeur_switchbot